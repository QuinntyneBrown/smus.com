<!doctype html>
<head>
  <title>Performance of Canvas versus SVG | Boris Smus</title>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
  <meta name="viewport" content="width=device-width">
  <meta name="description" content="

At the core of the traditional HTML/CSS developer's toolkit is a set of nested
boxes describing offset, margin, border and padding, known as the box model.">

  <!-- Icons -->
  <link rel="icon" type="image/x-icon" href="/static/icons/favicon.ico" />
  <link rel="apple-touch-icon" href="/static/icons/apple-touch-icon.png">

  <!-- Styles -->
  <link href='http://fonts.googleapis.com/css?family=Yanone+Kaffeesatz:700|PT+Sans|Inconsolata' rel='stylesheet' type='text/css'>
  <link rel="stylesheet" href="/static/stylesheets/screen.css" type="text/css" media="screen" charset="utf-8">

  <!-- Feed -->
  <link href="http://feeds.feedburner.com/smuscom" rel="alternate" title="Boris Smus" type="application/atom+xml"/>
</head>
<body>
  <header>
    <span class="left">
      <a href="/" class="name">Boris Smus</a>
    </span>
    <span class="right">
      <a href="/projects/">Projects</a>
      <a href="/about/">About</a>
      <a href="/archive/posts/">Archives</a>
    </span>
  </header>

  <div id="main">
    <section id="articles">
      
<article>
  <h1><a href="/canvas-vs-svg-performance">Performance of Canvas versus SVG</a></h1>
  <div class="subtitle">
  
  <time>Published on 19 January 2009</time>
  
  
  </div>
  <p>
    <p>At the core of the traditional HTML/CSS developer's toolkit is a set of nested
boxes describing offset, margin, border and padding, known as the box model.
Variations on the box theme are sufficient to describe most page layouts, but
in some complex applications, it's necessary to render something more
interesting, like diagonal lines, or polygons. There are currently two
relatively well-supported web graphics technologies: SVG and Canvas. There are
significant performance differences, however, which I would like to discuss in
this article. </p>

<p><a href="http://en.wikipedia.org/wiki/Svg">Scalable Vector Graphics</a> (SVG) is by far the oldest of the two. It is a
declarative, graphical language used to describe geometrical primitives via DOM
elements. SVG was drafted in the late 90s, and the latest version of 
<a href="http://www.w3.org/TR/SVG11/">SVG, version 1.1</a> was finalized in 2003. It took 3 more years for it to be
incorporated into shipping versions of Mozilla Firefox and Safari.
Unfortunately, the length of the SVG adoption process caused the web
development community to seek other options. The <a href="http://en.wikipedia.org/wiki/Canvas_(HTML_element)">HTML5 Canvas</a> element was
introduced as a much simpler alternative to graphics on the web. It provides an
image-like graphics context which can be accessed via a set of javascript
calls, similar to a 2D subset of OpenGL. It was originally introduced by Apple
in WebKit builds, but is now supported in Mozilla Firefox as well. </p>

<p>I produced some metrics to compare the two technologies in terms of performance
by writing a Javascript program for <a href="canvas-svg-benchmark/">collecting performance data</a>. This
program draws rows of circles onto a fixed-size drawing area in SVG and in
Canvas, and then compares how long various operations take. It also records the
duration to create the initial drawing context, to render the scene and to
clear the scene. A test runner invokes the benchmark with the following
variables: number of circles, drawing area dimensions and circle size. Each of
these variables are varied independantly and automatically resulting in the
following observations: </p>

<p><img src="varying-number-of-objects.png" alt="Varying the number of objects" /> </p>

<p>Here are the results of the first fruitful experiment, which clearly shows that
SVG performance degrades quickly (exponentially on Safari?) in the number of
objects, but Canvas performance remains at a near-constant low. This makes
sense, since Canvas is just a bitmap buffer, while SVG has to maintain
additional references to each object that it renders. Also, though not
pictured, note that performance in clearing an SVG element also decreases in
the number of drawn objects. </p>

<p><img src="varying-drawing-area-height.png" alt="Varying drawing area height" /> </p>

<p>When varying the size of the drawing area, canvas performance degrades
significantly, while SVG performance is completely unaffected.  Canvas
rendering performance seems to degrade linearly in the number of pixels in the
canvas area. Not pictured on the graph is clear performance for large canvases,
which also suffers linearly in pixel count.</p>

<p>I did not include the graph resulting from varying circle size as it had no
significant impact on render time. Another interesting observation is that
creating the canvas element takes a mysterious 10 ms on Firefox, but not on
Safari. This is not significant unless you are dealing with large numbers of
canvas elements.</p>

<p>Whether or not you use Canvas or SVG mostly depends on your specific
application. A graphics-intensive game, where many objects are redrawn all the
time is probably best implemented in Canvas. On the other hand, applications
like map viewers may involve large rendering areas and might lend themselves
better to SVG.</p>

<p>As always, please comment if something is unclear, inconsistent, boring or
omitted. Thanks!</p>

  </p>

  <!--
  DISABLED COMMENTS.

  <div id="disqus_thread"></div>
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'smus'; // Required - Replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
          var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
          dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
          (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
  </script>
  <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
  <a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
  -->
</article>

    </section>
    <aside>
      <img src="/static/images/me.jpg" alt="Headshot of Author" title="Headshot of Author">
      <p>
        I'm Boris Smus, a software engineer and UI prototyper from
        Vancouver, Canada. I currently live in San Francisco and work on
        Chrome related things.
        <a href="/about/" class="readmore"></a>
      </p>
    </aside>
  </div>

  <div id="push"></div>

  <footer>
    <p>
      &copy; 2008 - 2015 Boris Smus<br>
      Powered by <a href="/site/">Lightning</a>
    </p>

    <ul id="social-links">
      <a href="http://feeds.feedburner.com/smuscom" class="social rss" title="RSS" rel="external me">RSS</a>
      <a href="https://github.com/borismus" class="social github" title="GitHub" rel="external me">GitHub</a>
      <a href="https://profiles.google.com/boris.smus" rel="author" class="social plus" title="Google Plus" rel="external me">Google Plus</a>
      <a href="https://twitter.com/borismus" class="social twitter" title="Twitter" rel="external me">Twitter</a>
    </ul>
  </footer>


  <script src="/static/javascripts/highlight.pack.js"></script>
  <script>
    // Syntax highlighting for code.
    hljs.tabReplace = '  ';
    hljs.initHighlightingOnLoad();
  </script>
  <script>
    // Google Analytics.
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
      (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
      m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-17930798-22', 'smus.com');
    ga('require', 'displayfeatures');
    ga('send', 'pageview');
  </script>
  <script src="//cdn.webglstats.com/stat.js" defer="defer" async="async"></script>
  <script src="/lightning_error.js"></script>
</body>